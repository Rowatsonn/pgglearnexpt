{% extends "layout.html" %}

{% block body %}
     <div id="afkModal" class="modal">
        <div class="modal-body text-center" style="display:none;">
          <h1>Are you still reading?</h1>
             <button type="button" class="btn btn-success btn-lg" onClick="ping_server()">Yes</button>
        </div>
    </div>
    <div id="PD" class="main_div" style="display:none;">
        <h1>Part Two</h1>

        <hr>

        <p>In this example three players decide to donate all of their points to the public fund, while one player chooses not to. This means there are <strong>30</strong> points in the public pot. This will double to <strong>60</strong> and be split amongst all players. Therefore, the player that donated will end the round with <strong>15</strong> points whilst the players that did not end the round with <strong>25</strong>.</p>

<img src='/static/images/one-defect.png/' width="600" height="400" class="text-center">

	<p>Note that in this case, the player that chose not to donate has a higher score than the other players.</p> 
	<p>When you are ready to proceed, click the button below.</p> 
    
        <hr>
    </div>
    <div>
      <div id="next" class="row" style="display:none;">
        <div class="col-10"></div>
        <div class="col-2">
          <button type="button" class="btn btn-success btn-lg" onClick="dallinger.allowExit(); dallinger.goToPage('instructions/pgg_instructions - 4');">Next</button>
        </div>
    </div>
    <div id="SD" class="main_div" style="display:none;">
        <h1>Part Two</h1>

        <hr>

        <p>In this example only one player decides to donate all of their points to the public fund, while the rest of the players choose not to. This means there are <strong>10</strong> points in the public pot <strong>which is equal to the threshold</strong>. This will double to <strong>20</strong> and be split amongst all players. Therefore, the player that donated will end the round with <strong>5</strong> points whilst the players that did not end the round with <strong>15</strong>.</p>

<img src='/static/images/SD-one-cop.png/' width="600" height="400" class="text-center">

	<p>Note that in this case, the players that did not donate ended up with more points than the player who did.</p> 
	<p>When you are ready to proceed, click the button below.</p> 
    
        <hr>
    </div>
    <div>
      <div id="next2" class="row" style="display:none;">
        <div class="col-10"></div>
        <div class="col-2">
          <button type="button" class="btn btn-success btn-lg" onClick="dallinger.allowExit(); dallinger.goToPage('instructions/pgg_instructions - 4');">Next</button>
        </div>
    </div>    

<!-- Modal -->
<div class="modal fade" id="reading" tabindex="-1" role="dialog" aria-labelledby="readingLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="readingLabel">Are you still reading?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onClick="ping_server(); counter=50; start_modal_timeout(counter)">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>To keep your place in the experiment, please click below</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" onClick="ping_server(); counter=50; start_modal_timeout(counter);">Yes</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}

{% block scripts %}
    <script>
      page_check();
      var modal = document.getElementById('reading')
        var counter = 50
        start_modal_timeout(counter) // Starts the modal timer
        window.onclick = function(event) {
        //alert(event.target)
            if (event.target == modal) {
               modal.style.display = "none";
               ping_server();
               counter = 50
               start_modal_timeout(counter)
            } 
        }      
    </script>
{% endblock %}

